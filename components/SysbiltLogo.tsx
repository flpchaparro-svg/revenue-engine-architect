import React, { useState, useEffect } from 'react';

interface SysbiltLogoProps {
  /** Set to true when placing the logo on a dark background (like the footer) */
  isDarkBg?: boolean;
}

export const SysbiltLogo: React.FC<SysbiltLogoProps> = ({ isDarkBg = false }) => {
  // Uses exact brand guideline hex codes
  const lightModeColors = ['#1A1A1A', '#9A1730', '#8B6914']; // Black, Red-text, Gold-on-cream
  const darkModeColors = ['#FFF2EC', '#FF6B6B', '#D4A84B'];  // Cream, Red-on-dark, Gold-on-dark

  const bColors = isDarkBg ? darkModeColors : lightModeColors;
  const baseTextColor = isDarkBg ? '#FFFFFF' : '#1A1A1A';

  const [bColor, setBColor] = useState(bColors[0]); 
  const [rotation, setRotation] = useState(0); 
  const [isVisible, setIsVisible] = useState(false);

  useEffect(() => {
    setIsVisible(true);
  }, []);

  const handleHover = () => {
    setRotation((prevRotation) => prevRotation + 360);
    setBColor((prevColor) => {
      const currentIndex = bColors.indexOf(prevColor);
      const nextIndex = (currentIndex + 1) % bColors.length;
      return bColors[nextIndex];
    });
  };

  const isDefaultColor = bColor === bColors[0];

  return (
    <div
      className={`transition-opacity duration-1000 ease-in-out cursor-pointer flex items-center ${
        isVisible ? 'opacity-100' : 'opacity-0'
      }`}
      onMouseEnter={handleHover}
      // RIGHT HERE: Change this number if you want it even smaller or slightly bigger!
      style={{ width: '130px' }} 
    >
      <svg
        viewBox="0 0 2100 441"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className="w-full h-auto"
        style={{ perspective: '1000px' }} 
      >
        {/* GROUP 1: "SYS" and "ILT" */}
        <g id="logo-text" fill={baseTextColor}>
          <path d="M146.793 54.9541C148.135 54.8759 149.478 54.8135 150.822 54.767C219.339 52.3968 290.969 71.2013 293.561 146.349L223.994 146.361C223.243 144.346 222.233 140.82 222.071 138.63C219.057 98.088 113.702 95.1389 109.905 134.96C107.79 157.152 144.942 162.192 161.434 166.11C217.576 179.446 302.096 184.616 299.43 257.195C298.381 316.457 229.757 340.564 175.302 339.525C139.026 339.926 98.1224 336.728 68.0639 315.9C40.867 297.055 33.9581 277.504 29.4271 247.366C35.4579 246.999 47.1809 247.378 53.6085 247.372L102.284 247.16C102.29 248.025 102.333 248.888 102.411 249.749C105.813 286.433 150.652 291.8 181.759 288.98C200.993 287.782 229.686 278.734 226.495 256.066C223.06 231.67 175.026 227.732 154.545 222.518C123.366 214.58 89.8039 212.302 63.5388 192.762C31.1891 168.696 32.67 120.561 56.9634 92.0714C77.4512 68.4025 115.165 57.5842 146.793 54.9541Z" />
          <path d="M516.289 60.0602L596.858 59.8965C583.256 80.0708 570.889 100.477 557.53 120.498L525.801 168.766C517.855 180.871 509.073 193.766 501.914 206.236C496.534 213.945 487.755 225.087 485.099 233.753C481.739 244.713 482.701 317.94 483.888 332.107C459.238 332.349 435.653 333.341 410.942 332.625C413.073 304.588 411.278 264.423 411.382 235.975C411.395 232.275 378.929 184.241 374.343 177.16L328.41 106.159C318.06 90.0843 309.97 75.9444 298.067 60.3938C321.927 59.374 353.734 60.2152 378.056 60.1631C379.949 60.0719 380.285 60.1148 382.135 60.512C385.66 65.1977 396.14 84.9075 399.749 91.1543L440.123 160.424C441.538 162.825 447.124 172.72 449.504 173.365C452.596 169.439 454.385 165.121 457.008 161.005C477.82 128.358 495.154 92.463 516.289 60.0602Z" />
          <path d="M714.099 54.9148C748.131 51.4583 801.654 58.8552 828.593 79.7338C854.269 99.6341 859.282 117.399 862.772 146.257L793.061 146.188C791.629 136.331 789.221 127.11 780.83 120.53C766.037 109.166 743.615 104.96 724.745 106.005C706.644 107.006 674.645 114.518 675.927 135.995C677.326 156.285 704.717 159.786 721.213 164.271C772.236 178.144 861.194 180.403 867.191 244.74C873.557 313.061 808.46 336.162 747.147 339.51C698.183 341.034 642.801 334.279 612.32 293.959C601.308 279.393 598.608 264.797 596.843 247.523L667.184 247.642C670.886 259.288 672.175 267.653 682.948 276.551C697.317 288.42 724.599 290.657 743.07 289.664C754.023 288.601 772.641 287.051 781.465 280.765C792.209 273.116 796.816 267.369 794.771 254.613C794.485 248.727 789.172 242.021 783.245 239.28C749.716 223.788 707.139 221.634 671.525 211.634C637.743 202.149 608.935 183.465 606.185 148.076C601.389 86.354 655.777 58.9269 714.099 54.9148Z" />
          <path d="M1248.13 60.1872C1255.52 60.8613 1267.17 60.5764 1274.83 60.5689L1320.29 60.4838L1320.55 178.381C1319.89 229.762 1319.65 281.147 1319.82 332.531C1297.38 332.989 1269.84 332.8 1247.22 332.383C1248.15 330.092 1248.24 327.623 1248.25 325.186C1248.66 256.697 1248.77 188.148 1248.68 119.659C1248.67 112.902 1249.17 63.6893 1248.13 60.1872Z" />
          <path d="M1369.98 60.5303L1441.68 60.5071C1440.82 132.238 1441.65 205.469 1441.56 277.305L1602.94 277.161C1601.93 292.502 1603.13 315.476 1602.92 331.404C1602.57 331.925 1602.27 332.366 1602.02 332.727L1369.96 332.392C1370.52 299.085 1369.87 264.988 1369.82 231.598L1369.98 60.5303Z" />
          <path d="M1564.79 60.4704L1829.15 60.6124C1828.74 78.9982 1828.53 97.3881 1828.54 115.778L1732.76 115.934L1732.48 244.729C1732.27 273.993 1732.37 303.259 1732.76 332.522C1712.78 333.373 1680.18 332.945 1660.04 332.643C1660.99 304.842 1660.62 277.03 1660.61 249.231L1660.35 115.8C1628.94 115.325 1596.42 115.715 1564.93 115.702C1565.04 97.2912 1564.99 78.8805 1564.79 60.4704Z" />
        </g>

        {/* GROUP 2: ".com" - Falling effect */}
        <g 
          id="logo-com" 
          fill={baseTextColor}
          style={{
            transformOrigin: '1800px 320px', 
            transform: isDefaultColor ? 'rotate(90deg)' : 'rotate(0deg)', 
            transition: 'transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)' 
          }}
        >
          <rect x="1814" y="318" width="14" height="14" />
          <path d="M1793.44 188.395H1829V196.024H1784.62V188.805L1793.44 188.395ZM1805.13 189.954L1805.01 193.481C1801.97 193.454 1799.17 193.057 1796.6 192.291C1794 191.526 1791.74 190.391 1789.83 188.887C1787.92 187.383 1786.44 185.51 1785.4 183.268C1784.33 181.026 1783.8 178.428 1783.8 175.475C1783.8 173.397 1784.1 171.483 1784.7 169.733C1785.28 167.983 1786.19 166.465 1787.45 165.18C1788.71 163.895 1790.32 162.897 1792.29 162.186C1794.26 161.475 1796.64 161.12 1799.43 161.12H1829V168.707H1799.8C1797.47 168.707 1795.61 169.104 1794.22 169.897C1792.82 170.663 1791.81 171.756 1791.18 173.178C1790.53 174.6 1790.2 176.268 1790.2 178.182C1790.2 180.424 1790.6 182.297 1791.39 183.801C1792.18 185.305 1793.28 186.508 1794.67 187.411C1796.06 188.313 1797.66 188.969 1799.47 189.379C1801.25 189.762 1803.13 189.954 1805.13 189.954ZM1800.95 161.202L1802.5 166.288C1800.07 166.26 1797.73 165.864 1795.49 165.098C1793.25 164.305 1791.25 163.17 1789.5 161.694C1787.75 160.19 1786.37 158.344 1785.36 156.157C1784.32 153.969 1783.8 151.467 1783.8 148.651C1783.8 146.272 1784.12 144.166 1784.74 142.334C1785.37 140.475 1786.34 138.916 1787.66 137.659C1788.94 136.373 1790.6 135.403 1792.62 134.746C1794.64 134.09 1797.05 133.762 1799.84 133.762H1829V141.391H1799.76C1797.27 141.391 1795.34 141.788 1793.97 142.58C1792.58 143.346 1791.61 144.44 1791.06 145.862C1790.49 147.256 1790.2 148.924 1790.2 150.866C1790.2 152.534 1790.49 154.01 1791.06 155.295C1791.63 156.58 1792.43 157.661 1793.44 158.536C1794.42 159.411 1795.56 160.08 1796.84 160.545C1798.13 160.983 1799.5 161.202 1800.95 161.202Z" />
          <path d="M1807.3 250.058H1806.36C1803.16 250.058 1800.19 249.593 1797.46 248.663C1794.7 247.734 1792.3 246.394 1790.28 244.644C1788.23 242.894 1786.64 240.775 1785.52 238.286C1784.38 235.798 1783.8 233.009 1783.8 229.919C1783.8 226.802 1784.38 223.999 1785.52 221.511C1786.64 218.995 1788.23 216.862 1790.28 215.112C1792.3 213.335 1794.7 211.982 1797.46 211.052C1800.19 210.122 1803.16 209.657 1806.36 209.657H1807.3C1810.5 209.657 1813.47 210.122 1816.2 211.052C1818.94 211.982 1821.33 213.335 1823.38 215.112C1825.4 216.862 1826.99 218.982 1828.14 221.47C1829.26 223.931 1829.82 226.72 1829.82 229.837C1829.82 232.954 1829.26 235.757 1828.14 238.245C1826.99 240.734 1825.4 242.866 1823.38 244.644C1821.33 246.394 1818.94 247.734 1816.2 248.663C1813.47 249.593 1810.5 250.058 1807.3 250.058ZM1806.36 242.47H1807.3C1809.52 242.47 1811.61 242.21 1813.58 241.691C1815.52 241.171 1817.24 240.392 1818.75 239.353C1820.25 238.286 1821.44 236.96 1822.31 235.374C1823.16 233.788 1823.59 231.943 1823.59 229.837C1823.59 227.759 1823.16 225.941 1822.31 224.382C1821.44 222.796 1820.25 221.484 1818.75 220.445C1817.24 219.405 1815.52 218.626 1813.58 218.107C1811.61 217.56 1809.52 217.286 1807.3 217.286H1806.36C1804.17 217.286 1802.11 217.56 1800.17 218.107C1798.2 218.626 1796.46 219.419 1794.96 220.486C1793.43 221.525 1792.22 222.837 1791.35 224.423C1790.47 225.982 1790.04 227.814 1790.04 229.919C1790.04 231.997 1790.47 233.829 1791.35 235.415C1792.22 236.974 1793.43 238.286 1794.96 239.353C1796.46 240.392 1798.2 241.171 1800.17 241.691C1802.11 242.21 1804.17 242.47 1806.36 242.47Z" />
          <path d="M1823.59 278.457C1823.59 276.652 1823.22 274.984 1822.48 273.453C1821.74 271.922 1820.73 270.664 1819.44 269.68C1818.13 268.695 1816.64 268.135 1814.97 267.998V260.779C1817.6 260.916 1820.04 261.805 1822.31 263.445C1824.56 265.059 1826.38 267.178 1827.77 269.803C1829.14 272.428 1829.82 275.312 1829.82 278.457C1829.82 281.793 1829.23 284.705 1828.06 287.193C1826.88 289.654 1825.27 291.705 1823.22 293.346C1821.17 294.959 1818.81 296.176 1816.16 296.996C1813.48 297.789 1810.65 298.186 1807.67 298.186H1805.95C1802.97 298.186 1800.15 297.789 1797.5 296.996C1794.82 296.176 1792.46 294.959 1790.4 293.346C1788.35 291.705 1786.74 289.654 1785.56 287.193C1784.39 284.705 1783.8 281.793 1783.8 278.457C1783.8 274.984 1784.51 271.949 1785.93 269.352C1787.33 266.754 1789.24 264.717 1791.68 263.24C1794.08 261.736 1796.82 260.916 1799.88 260.779V267.998C1798.05 268.135 1796.39 268.654 1794.92 269.557C1793.44 270.432 1792.26 271.635 1791.39 273.166C1790.49 274.67 1790.04 276.434 1790.04 278.457C1790.04 280.781 1790.5 282.736 1791.43 284.322C1792.33 285.881 1793.56 287.125 1795.12 288.055C1796.65 288.957 1798.36 289.613 1800.25 290.023C1802.11 290.406 1804.01 290.598 1805.95 290.598H1807.67C1809.61 290.598 1811.53 290.406 1813.41 290.023C1815.3 289.641 1817.01 288.998 1818.54 288.096C1820.07 287.166 1821.3 285.922 1822.23 284.363C1823.13 282.777 1823.59 280.809 1823.59 278.457Z" />
        </g>

        {/* GROUP 3: The Flipping, Color-Changing B */}
        <g
          id="logo-b"
          style={{
            fill: bColor,                     
            transformOrigin: 'center',        
            transformBox: 'fill-box',
            transform: `rotateY(${rotation}deg)`, 
            transition: 'transform 0.8s ease-in-out, fill 0.8s ease-in-out' 
          }}
        >
          <path d="M958.894 197.286C976.87 196.363 998.455 197.24 1016.77 196.994C1037.68 196.712 1059.37 196.83 1080.31 197.092C1101.37 197.519 1128.96 203.042 1143.48 218.542C1160.74 236.972 1158.57 269.425 1139.25 285.778C1114.42 303.337 1078.49 300.323 1048.91 300.36L958.804 300.308C958.231 291.164 956.905 199.434 958.894 197.286ZM996.536 219.844C997.401 239.355 997.164 258.082 996.885 277.625C1026.16 277.89 1055.44 277.633 1084.7 276.853C1095.54 276.043 1102.74 274.901 1110.57 266.982C1124.57 252.824 1116.02 224.876 1095.1 222.008C1075.25 219.288 1048.2 218.167 1027.91 219.445C1018.16 219.925 1006.38 219.8 996.536 219.844Z" />
          <path d="M906 62.29C914.105 61.8015 925.498 62.0998 933.812 62.1022L983.251 62.1256L1048.62 62.1042C1092.39 62.0858 1156.76 58.0948 1181.22 101.362C1199.55 133.785 1192.5 171.902 1155.54 189.935C1202.47 208.535 1214.95 246.146 1195.86 289.493C1185.87 312.211 1151.3 326.863 1126.09 329.635C1082.28 334.449 1036.89 332.085 992.515 332.397C981.945 332.026 969.205 332.311 958.483 332.314C958.141 323.236 957.673 318.706 959.586 309.823C968.877 309.146 986.706 309.547 996.633 309.553L1065.47 309.631C1102.31 309.67 1150.56 311.671 1163.04 269.672C1168.25 252.136 1167.81 234.729 1157.97 218.581C1148.19 202.536 1133.88 197.144 1115.78 192.495C1131.03 185.944 1148.48 177.432 1153.39 161.31C1158.94 143.102 1156.27 117.817 1141.47 103.923C1123.72 87.246 1103.39 85.0807 1079.71 85.1692C1064.1 85.2277 1048.65 85.1724 1033.14 85.1815L906.642 85.1998L906 62.29Z" />
          <path d="M958.413 95.0358L1037.02 95.0676C1079.43 95.0787 1147.67 86.2535 1144.07 145.809C1143.22 159.899 1138.39 166.915 1127.41 176.033C1096.8 197.253 1027.43 184.788 989.792 188.109C984.438 188.581 964.088 188.67 959.202 187.3C957.924 182.596 957.073 99.7495 958.413 95.0358ZM997.01 167.414L1049.69 167.411C1062.69 167.41 1087.26 168.898 1097.28 161.562C1103.34 156.344 1106.32 151.677 1106.63 143.884C1107.45 123.199 1087.58 117.753 1069.18 117.646C1045.19 117.506 1021.42 118.094 997.562 117.939C996.124 119.32 996.326 120.246 996.424 122.562C997.059 137.497 997.087 152.462 997.01 167.414Z" />
          <path d="M906.328 95.5164C919.382 95.2224 933.463 95.5034 946.587 95.5502C945.882 137.4 945.938 178.454 946.475 220.266C946.936 256.614 945.072 295.932 947.55 332.02C944.255 332.959 911.641 332.428 906.244 332.419C907.236 298.16 906.593 260.218 906.44 225.825L906.328 95.5164Z" />
        </g>
      </svg>
    </div>
  );
};